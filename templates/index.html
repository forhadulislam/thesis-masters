<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title> Search for Diet </title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://bootswatch.com/4/materia/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css" rel="stylesheet">
    <link href="https://cdn.rawgit.com/mistic100/jQCloud/master/dist/jqcloud.min.css" rel="stylesheet">


    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Alfa+Slab+One|Antic|Anton|Archivo+Black|Bevan|Biryani|Coustard|Cutive|Domine|Eczar|Fauna+One|Fredoka+One|Glass+Antiqua|Glegoo|Habibi|Hammersmith+One|IBM+Plex+Sans|Kreon|Lilita+One|Overlock|Overpass|PT+Mono|Palanquin+Dark|Paytone+One|Podkova|Pridi|Rajdhani|Scope+One|Signika+Negative|Slabo+13px|Slabo+27px|Suez+One|Titan+One|Ultra|Unica+One|Zilla+Slab" rel="stylesheet">



    <!-- Custom styles for this template -->
    <style>
    	/*
    		Fonts --




			font-family: 'Titan One', cursive;

			font-family: 'Anton', sans-serif;

			font-family: 'Alfa Slab One', cursive;

			font-family: 'Archivo Black', sans-serif;

			font-family: 'Fredoka One', cursive;

			font-family: 'Unica One', cursive;

			font-family: 'Ultra', serif;

			font-family: 'Bevan', cursive;

			font-family: 'Paytone One', sans-serif;

			font-family: 'Slabo 13px', serif;

			font-family: 'Overlock', cursive;

			font-family: 'Eczar', serif;

			font-family: 'Pridi', serif;

			font-family: 'Lilita One', cursive;

			font-family: 'Palanquin Dark', sans-serif;

			font-family: 'Podkova', serif;

			font-family: 'Suez One', serif;

			font-family: 'Slabo 27px', serif;

			font-family: 'IBM Plex Sans', sans-serif;

			font-family: 'Rajdhani', sans-serif;

			font-family: 'Domine', serif;

			font-family: 'Hammersmith One', sans-serif;

			font-family: 'Glegoo', serif;

			font-family: 'Signika Negative', sans-serif;

			font-family: 'Kreon', serif;

			font-family: 'PT Mono', monospace;

			font-family: 'Overpass', sans-serif;

			font-family: 'Coustard', serif;

			font-family: 'Antic', sans-serif;

			font-family: 'Fauna One', serif;

			font-family: 'Zilla Slab', serif;

			font-family: 'Cutive', serif;

			font-family: 'Biryani', sans-serif;

			font-family: 'Habibi', serif;

			font-family: 'Scope One', serif;

			font-family: 'Glass Antiqua', cursive;
    	*/


		body{
			font-size: 16px;
			font-family: 'Biryani', sans-serif;
		}
		h1 {
			font-family: 'Bevan', cursive;
			font-size: 56px;
			font-weight: 100;
			margin-top: 40px;
			margin-bottom: 40px;
		}
		h2 {
			font-family: "Roboto Slab";
			font-size: 42px;
			color: #1DA1F2;
		}
		h3.guide-title {
			font-family: "Coustard";
			font-size: 30px;
		}
		input, button{
			font-family: 'Pridi', serif;
			font-size: 18px !important;
			font-weight: 400;
			padding: 10px;
		}
		.main-heading{
			margin-top: 2em;
		}
		.google-results{
		    background: #f2f2f2;
		}
		.sub-heading{
			margin-top: 1.2em;
			font-family: 'Suez One', serif;
			border-bottom: 1px solid #d2d2d2;
			color: #444;
		}
		.sub-heading.criteria{
			color: #7F2E17;
			border-bottom: 2px solid #7F2E17;
			margin-bottom: 1.2em;
		}
		.criteria{
		    margin-bottom: 3em;
		}
		.results-all span{
		    display: inline-block;
		    padding: 8px;
		}
	</style>

  </head>
  <body>
    
    <h1 class="col-md-10 col-md-offset-1 text-center main-heading" style=""> Search for Diet </h1>
    
    <div class="col-md-6 col-md-offset-3">
        <form class="form" method="GET">
			<div class="form-group">
				<input type="text" name="query" placeholder="Type your diet" class="col-md-12 form-control" value="{% if inputText %}{{inputText}}{% endif %}" required />
            </div>            
            <button type="submit" class="col-md-3 btn btn-danger" style="margin-top: 15px;">Search</button>
        </form>      
    </div>
    
    
    
    {% if inputText %}
		<!--<div class="col-md-6 col-md-offset-3">
			<h4><br /> <br />
			foods:
				<br /> <br />
			findTheCategories:
			{{ findTheCategories }}
				<br /> <br />
			POS Tags:
			{{ posText }}</h4>
		</div>-->
		
		<div class="col-md-12 criteria">
			<div class="col-md-6 col-md-offset-3">

                <h2 class="sub-heading text-right criteria">Criterion</h2>

                <div class="ranges">
                  <label>The diet has rapid weight loss potential (<span>{% if findTheCategories['weight-loss']['score'] %}{{findTheCategories['weight-loss']['score']* 100}}{% else %}0{% endif %}</span>) </label>
                  <input class="rangeSlider" type="range" min="0" max="100" value="{% if findTheCategories['weight-loss']['score'] %}{{findTheCategories['weight-loss']['score']* 100}}{% else %}0{% endif %}" class="slider" id="myRange">
                </div>
                    <br />
                <div class="ranges">
                  <label>The diet has strong long-term success potential (<span>{% if findTheCategories['success']['score'] %}{{findTheCategories['success']['score']* 100}}{% else %}0{% endif %}</span>) </label>
                  <input class="rangeSlider" type="range" min="0" max="100" value="{% if findTheCategories['success']['score'] %}{{findTheCategories['success']['score']* 100}}{% else %}0{% endif %}" class="slider" id="myRange">
                </div><br />
                <div class="ranges">
                  <label>The diet is affordable (<span>{% if findTheCategories['cost']['score'] %}{{findTheCategories['cost']['score']* 100}}{% else %}0{% endif %}</span>) </label>
                  <input class="rangeSlider" type="range" min="0" max="100" value="{% if findTheCategories['cost']['score'] %}{{findTheCategories['cost']['score']* 100}}{% else %}0{% endif %}" class="slider" id="myRange">
                </div>
                    <br />
                <div class="ranges">
                  <label>It is mentally stick to the diet (<span>{% if findTheCategories['mental-effort']['score'] %}{{findTheCategories['mental-effort']['score']* 100}}{% else %}0{% endif %}</span>) </label>
                  <input class="rangeSlider" type="range" min="0" max="100" value="{% if findTheCategories['mental-effort']['score'] %}{{findTheCategories['mental-effort']['score']* 100}}{% else %}0{% endif %}" class="slider" id="myRange">
                </div>
                        <br />
                <div class="ranges">
                  <label>The diet provides all the nutrients needed for well-being (<span>{% if findTheCategories['nutrition']['score'] %}{{findTheCategories['nutrition']['score']* 100}}{% else %}0{% endif %}</span>) </label>
                  <input class="rangeSlider" type="range" min="0" max="100" value="{% if findTheCategories['nutrition']['score'] %}{{findTheCategories['nutrition']['score']* 100}}{% else %}0{% endif %}" class="slider" id="myRange">
                </div>
                <br />

                <div class="ranges">
                  <label>The diet is generally recommended by others (<span>{% if findTheCategories['recommendation']['score'] %}{{findTheCategories['recommendation']['score']* 100}}{% else %}0{% endif %}</span>) </label>
                  <input class="rangeSlider" type="range" min="0" max="100" value="{% if findTheCategories['recommendation']['score'] %}{{findTheCategories['recommendation']['score']* 100}}{% else %}0{% endif %}" class="slider" id="myRange">
                </div>

            </div>
		</div>

        <div class='col-md-12'>
            {% if gSearchOutputs %}

                <div class="col-md-6 google-results">
                    <h2 class="sub-heading text-center">
                        <big>Diet</big> API Results [1]
                        <!--<big><span style="color: #4885ed">G</span><span style="color: #db3236">o</span><span style="color: #f4c20d">o</span><span style="color: #4885ed">g</span><span style="color: #3cba54">l</span><span style="color: #db3236">e</span></big><span style="color: #4885ed">search</span> <span style="color: #db3236">results</span>-->
                    </h2>

                    <div class="results-all">
                        {% for googleWord in googleSearchCloud %}
                            <span style="font-size:{{ 16 + googleSearchCloud[googleWord] }}px">{{ googleWord }}</span>
                        {% endfor %}
                    </div>

                    <br /><br />
                    <h2>Recipes</h2>
                    <ul>
                    {% for aRecipe in recipeApiOutputforGoogle %}
                        <li><a href='{{ aRecipe.recipe.url }}' target='_blank'> {{ aRecipe.recipe.label }} </a></li>
                    {% endfor %}
                    </ul>

                    <br /><br />
                    <h1>Links</h1>
                    {% for result in gSearchOutputs %}

                            {% if result.texts %}
                                <h3><a href='{{ result.link }}' target='_blank'>{{ result.name }}</a></h3> <br />
                                <ul>

                                    <!-- {{ result.keywords }} -->

                                </ul>
                            {% endif %}
                    {% endfor %}
                </div>
            {% endif %}

            {% if apiScrap %}



                <div class="col-md-6">
                    <h2 class="sub-heading text-center"> <big>Diet</big> API Results [2] </h2>

                    <div class="results-all">
                        {% for dietWord in dietApiCloud %}
                            <span style="font-size:{{ 16 + dietApiCloud[dietWord] }}px">{{ dietWord }}</span>
                        {% endfor %}
                    </div>

                    <br /><br />
                    <h2>Recipes</h2>
                    <ul>
                    {% for aRecipe in recipeApiOutputforDiet %}
                         <li><a href='{{ aRecipe.recipe.url }}' target='_blank'> {{ aRecipe.recipe.label }} </a></li>
                    {% endfor %}
                    </ul>

                    <br /><br />
                    <h1>Links</h1>
                    {% for apiResult in apiScrap %}
                        <h3><a href='{{ apiResult.link }}' target='_blank'>{{ apiResult.name }}</a></h3> <br />
                        <!--<p> {{ apiResult.keywords }} </p>-->

                    {% endfor %}
                </div>

            {% endif %}
        </div>
    {% else %}
        <div class="col-md-12">
            <div class="col-md-6 col-md-offset-3">
                <br />
                <h3 class="guide-title">Guidelines</h3>
                This is a thesis project where users can search for diets based on 6 different criterion.
                <ul><b>Here is the list of criterion</b>:
                    <li>The diet has rapid weight loss potential</li>
                    <li>The diet has strong long-term success potential</li>
                    <li>The diet is affordable</li>
                    <li>It is mentally stick to the diet</li>
                    <li>The diet provides all the nutrients needed for well-being</li>
                    <li>The diet is generally recommended by others</li>
                </ul>
                <p>Here are some example diet search keywords which can give you some hints:</p>
                <ul>
                    <li>i want a diet with high <b>nutrition</b> and low <b>cost</b></li>
                    <li>i want a diet with not high <b>cost</b> and not so low nutrition with high mental support</li>
                    <li>i want a diet with high <b>cost</b></li>
                </ul>
            </div>
        </div>


    {% endif %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>

    <script type="text/javascript" src="http://examples.julienrenaux.fr/d3js/wordcloud/bower_components/d3/d3.js"></script>
    <script type="text/javascript" src="http://examples.julienrenaux.fr/d3js/wordcloud/bower_components/d3-cloud/d3.layout.cloud.js"></script>
    <script type="text/javascript" src="http://examples.julienrenaux.fr/d3js/wordcloud/tags.js"></script>
    <script type="text/javascript" src="http://examples.julienrenaux.fr/d3js/wordcloud/word-cloud.js"></script>

    <script>
        // nothing
    </script>
    <script>
		$(document).ready(function(){

			$(".slider").slider();


			var values = [2, 30, 20, 30, 35, 45];
            $('.ranges .rangeSlider').on("input change",function() {
                var currentValue = this.value;
                $(this).parent('.ranges').children('label').children('span').text(currentValue);
            });


		});	
    </script>
    <script>

    </script>
    
  </body>
